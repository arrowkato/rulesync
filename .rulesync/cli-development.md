---
root: false
targets: ['*']
description: "CLIツール開発の指針とCommander.js使用規約"
globs: ["src/cli/**/*.ts"]
---

# CLIツール開発指針

## Commander.js使用規約

### コマンド構造
- 各コマンドは`src/cli/commands/`に個別ファイルとして配置
- コマンド名は小文字ケバブケース（例：`generate`, `init`, `watch`）
- サブコマンドよりもフラグオプションを優先

### オプション定義
- 短縮形と長縮形の両方を提供（例：`-o, --output`）
- デフォルト値は設定ファイルまたは環境変数から取得
- 必須オプションは最小限に抑制

### ヘルプメッセージ
- 各コマンドに明確な説明を追加
- 使用例を含める
- オプションの説明は簡潔かつ具体的に

## エラーハンドリング

### 終了コード
- 成功時：0
- 一般的なエラー：1
- 設定エラー：2
- ファイルI/Oエラー：3

### エラーメッセージ
- ユーザーが理解しやすい言語を使用
- 解決策の提案を含める
- 技術的な詳細はデバッグモードでのみ表示

## ユーザビリティ

### 進行状況表示
- 長時間の処理にはプログレスバーまたはスピナーを表示
- ファイル処理の進捗状況を表示

### 設定ファイル
- `.rulesync/config.json`で設定をカスタマイズ可能
- デフォルト設定で即座に使用開始できる設計

### 出力形式
- 標準出力：成功メッセージと結果
- 標準エラー：エラーメッセージとデバッグ情報
- `--quiet`フラグで出力を抑制